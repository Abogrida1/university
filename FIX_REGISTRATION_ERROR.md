# إصلاح مشكلة التسجيل

## المشكلة
خطأ في إنشاء الحساب: "خطأ في إنشاء المستخدم"

## الحلول المحتملة

### 1. التأكد من وجود الجداول في قاعدة البيانات
قم بتشغيل ملف SQL التالي في Supabase:

```sql
-- ملف: database/simple-user-schema.sql
```

### 2. اختبار الاتصال بـ Supabase
اذهب إلى: `http://localhost:3000/test-supabase`

### 3. التحقق من متغيرات البيئة
تأكد من وجود هذه المتغيرات في ملف `.env.local`:

```
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
```

### 4. التحقق من إعدادات Supabase
- تأكد من أن RLS (Row Level Security) معطل للجداول
- أو قم بإنشاء سياسات مناسبة

### 5. تشغيل الاختبارات
```bash
npm run dev
```

ثم اذهب إلى صفحة التسجيل وجرب إنشاء حساب جديد.

## رسائل الخطأ المحسنة
تم إضافة رسائل خطأ أكثر تفصيلاً لمساعدتك في تحديد المشكلة بدقة.
